<header class="header">
  <div class="logo-container">
    <img class="logo-u" src="assets/images/main-logo.svg" alt="Logo HapticTool" />
    <div class="divider"></div>
    <div class="logo">🔧 HapticTool</div>
  </div>


  <!-- 🌐 Header normal -->
  <ng-container *ngIf="!isAdminView(); else adminHeader">
    <nav class="nav">
      <p-button label="Sobre Nosotros" (onClick)="goTo('/')"  [ngClass]="{ 'active': isActive('/') }"></p-button>
      <p-button label="Gráficas" (onClick)="goTo('/graficas')"    [ngClass]="{ 'active': isActive('/graficas') }"></p-button>
      <p-button label="Cargar Archivos" (onClick)="goTo('/cargar-archivos')"    [ngClass]="{ 'active': isActive('/cargar-archivos') }"></p-button>
    </nav>

    <div class="actions">
      <ng-container *ngIf="user; else guest">
        <span class="welcome">Bienvenido, {{ user.nombre }}</span>

        <!-- 🔹 Solo para SuperAdministrador -->
        <button 
          *ngIf="isSuperAdmin()" 
          class="icon-btn" 
          (click)="goTo('/administrador')" 
          title="Administrar usuarios y archivos">
          <i class="pi pi-id-card"></i>
        </button>

        <!-- ⚙️ Ajustes -->
        <button class="icon-btn" (click)="goTo('/ajustes')" title="Ajustes y privacidad">
          <i class="pi pi-cog"></i>
        </button>

        <!-- 🚪 Cerrar sesión -->
        <button class="icon-btn" (click)="logout()" title="Cerrar sesión">
          <i class="pi pi-sign-out"></i>
        </button>
      </ng-container>

      <!-- Si no hay sesión -->
      <ng-template #guest>
        <p-button
          label="Iniciar Sesión"
          styleClass="p-button-outlined"
          (onClick)="goTo('/Inicio-sesión')">
        </p-button>
      </ng-template>
    </div>   
  </ng-container>

  <!-- 👑 Header del SuperAdministrador -->
  <ng-template #adminHeader>
    <nav class="nav admin-nav">
      <p-button label="Usuarios" (onClick)="goTo('/administrador/usuarios')"></p-button>
      <p-button label="Archivos" (onClick)="goTo('/administrador/archivos')"></p-button>
      <p-button label="Logs" (onClick)="goTo('/administrador/logs')"></p-button>
    </nav>

    <div class="actions">
      <span class="welcome">Bienvenido: {{ user?.nombre }}</span>
        <button class="icon-btn" (click)="goTo('/ajustes')" title="Ajustes y privacidad">
          <i class="pi pi-cog"></i>
        </button>
      <button class="icon-btn" (click)="logout()" title="Cerrar sesión">
          <i class="pi pi-sign-out"></i>
      </button>
    </div>
  </ng-template>
</header>
